<link rel="stylesheet" href="/css/sandbox.css">
<div class="sandbox">
<div class="menu">
  <!-- <button>Run</button> -->
  <!-- <button>SVG</button> -->
  <a class="vertical-center" style="float:right; padding:.5rem;">
    <img src="/icons/full-screen-view.svg" alt="Full Screen Button" width="32px">
  </a>
</div>
<div class="sandbox-grid">
  <div id="editor">
  </div>
  <div class="canvas">
    <div id="interactive-container">
    </div>
  </div>
</div>
</div>

<script src="https://pagecdn.io/lib/ace/1.4.5/ace.js" integrity="sha256-5Xkhn3k/1rbXB+Q/DX/2RuAtaB4dRRyQvMs83prFjpM=" crossorigin="anonymous"></script>
<script>
    var editor = ace.edit("editor");
    // editor.setTheme("ace/theme/monokai");
    editor.session.setMode("ace/mode/javascript");
</script>

<script type="module">
  import { getUrlParams, getURL, loadScript } from '/Util.js';

  // get the current url parameters
  let params = getUrlParams(window.location.search);

  // check if there is a script defined
  if (params.has('script')) {

    let script = params.get('script');
    let element = document.getElementById("interactive-container");

    let text = loadScript( script, element).then(function(response){
      editor.setValue(response, 1);
    });
  } else {
    console.log('no url parameter script.');
  }

  // TODO: add key board short cuts
  // command + r : Run
  // command + s : Save SVG Image

  // TODO: add buttons / drop down menus

</script>
